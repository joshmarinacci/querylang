<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dark Theme Test</title>
    <link rel="stylesheet" href="theme.base.css"/>
    <link rel="stylesheet" href="theme.common.css"/>
    <link rel="stylesheet" href="theme.layouts.css"/>
    <link rel="stylesheet" href="theme.colors.css"/>
    <style type="text/css">








        /* ======== focus =========== */
        input:focus {
            /*background-color: var(--bg-6);*/
            /*color: var(--bg-2);*/
            /*animation: glow 800ms ease-out infinite alternate;*/
        }
        @keyframes glow {
            0% {
                border-color: #393;
                box-shadow: 0 0 5px rgba(0,0,255,.2), inset 0 0 5px rgba(0,0,255,.1), 0 2px 0 #000;
            }
            100% {
                border-color: #6f6;
                box-shadow: 0 0 20px rgba(0,0,255,.6), inset 0 0 10px rgba(0,0,255,.4), 0 2px 0 #000;
            }
        }
        .form-grid:focus-within {
            /*border-color: var(--ac-9);*/
            /*outline: 3px solid var(--ac-3);*/
            /*-moz-outline-radius: var(--window-radius);*/
            /*transition: outline var(--transition-speed);*/
        }
        ul:focus-within {
            /*outline: 3px solid var(--ac-9);*/
            /*outline-offset: 5px;*/
            /*-moz-outline-radius: var(--window-radius);*/
            /*transition: outline var(--transition-speed);*/
        }


        /* ======== custom ======== */
        .borderless {
            background-color: transparent;
            border-width: 0;
        }

        .custom-toggle {
            display: flex;
            border-width: 0;
            flex-direction: row;
            align-items: center;
            padding: 1em;
        }
        .custom-toggle label {
            display: flex;
            border-width: 0;
            flex-direction: column;
            align-items: center;
        }
        .custom-toggle.selected {
            border: 1px solid var(--ac-9);
            background-color: var(--std-ac-bg);
            border-radius: 0.33em;
        }
        .custom-toggle img {
            background-color: #556;
            padding: 0em;
            margin: 0.5em;
        }


        .color-group button.color {
            font-size: 0.5em;
            min-width: unset;
            width: 2em;
            height: 2em;
            border-radius: 1em;
            margin: 0.125em 0.25em;
        }
        .color.blue { background-color: dodgerblue; }
        .color.teal { background-color: lightseagreen; }
        .color.green { background-color: greenyellow; }
        .color.yellow { background-color: gold; }
        .color.orange { background-color: coral; }
        .color.red { background-color: orangered;   }
        .color.pink { background-color: palevioletred; }
        .color.purple { background-color: violet; }
        .color.brown { background-color: rosybrown; }
        .color.gray { background-color: slategray; }

        .swatch {
            width: 2em;
            height: 2em;
            border: 1px solid black;
            font-size: 90%;
        }

    </style>
</head>
<body>

<!--

https://blog.elementary.io/images/dark-style-progress-november-2020/switchboard-dark@2x.png


-->

<div class="hbox">
    <button id="set-light-theme">light</button>
    <button id="set-dark-theme">dark</button>

    <button id="without-tint">no tint</button>
    <button id="with-tint">tint</button>
    <button id="with-heavy-tint">heavy tint</button>
</div>

<div class="hbox" id="hues"></div>
<div class="hbox">
    <div class='swatch' style="background-color: var(--bg-1)">1</div>
    <div class='swatch' style="background-color: var(--bg-2)">2</div>
    <div class='swatch' style="background-color: var(--bg-3)">3</div>
    <div class='swatch' style="background-color: var(--bg-4)">4</div>
    <div class='swatch' style="background-color: var(--bg-5)">5</div>
    <div class='swatch' style="background-color: var(--bg-6)">6</div>
    <div class='swatch' style="background-color: var(--bg-7)">7</div>
    <div class='swatch' style="background-color: var(--bg-8)">8</div>
    <div class='swatch' style="background-color: var(--bg-9)">9</div>
</div>
<div class="hbox">
    <div class='swatch' style="background-color: var(--ac-1)">1</div>
    <div class='swatch' style="background-color: var(--ac-2)">2</div>
    <div class='swatch' style="background-color: var(--ac-3)">3</div>
    <div class='swatch' style="background-color: var(--ac-4)">4</div>
    <div class='swatch' style="background-color: var(--ac-5)">5</div>
    <div class='swatch' style="background-color: var(--ac-6)">6</div>
    <div class='swatch' style="background-color: var(--ac-7)">7</div>
    <div class='swatch' style="background-color: var(--ac-8)">8</div>
    <div class='swatch' style="background-color: var(--ac-9)">9</div>
</div>

<div class="window">


<div class="titlebar">
    <button class="material-icons borderless">close</button>
    <button>All Settings</button>
    <span class="spacer"></span>
    <label>Desktop</label>
    <span class="spacer"></span>
    <input type="search" placeholder="Search Settings">
    <button class="material-icons borderless">open_in_full</button>
</div>

    <ul class="menu-bar">
        <li>
            <div class="item">
                <button class="menu-button">File</button>
            </div>
            <ul class="menu-container">
                <li>
                    <div class="item"><button class="menu-button">New</button></div>
                </li>
                <li>
                    <div class="item"><button class="menu-button">Open</button></div>
                </li>
                <li class="divider"></li>
                <li>
                    <div class="item"><button class="menu-button">Close</button></div>
                </li>
                <li>
                    <div class="item"><button class="menu-button">Quit</button></div>
                </li>
            </ul>
        </li>
        <li>
            <div class="item">
                <button class="menu-button">Edit</button>
            </div>
            <ul class="menu-container">
                <li>
                    <div class="item"><button class="menu-button">Cut</button></div>
                </li>
                <li>
                    <div class="item"><button class="menu-button">Copy</button></div>
                </li>
                <li>
                    <div class="item"><button class="menu-button">Paste</button></div>
                </li>
            </ul>
        </li>
    </ul>

<div class="hbox">
    <ul>
        <li>fun item 1</li>
        <li>fun item 1</li>
        <li class="selected" tabindex="0">fun item 1</li>
        <li>fun item 1</li>
    </ul>
    <div class="form-grid grow">
        <div class="toggle-group c2">
            <button class="toggle">Wallpaper</button>
            <button class="toggle selected">Appearance</button>
            <button class="toggle">Dock</button>
            <button class="toggle">Multitasking</button>
        </div>
        <label>Style:</label>
        <div class="group">
            <div class="custom-toggle">
                <input type="radio" name="style" id="style_light">
                <label for="style_light">
                    <img s1rc="#" width="100" height="75">
                    <span>Light</span>
                </label>
            </div>
            <div class="custom-toggle selected">
                <input type="radio" name="style" id="style_dark" checked>
                <label for="style_dark">
                    <img src="#" width="100" height="75">
                    <span>Dark</span>
                </label>
            </div>

        </div>
        <label class="c2">Visual style for system components like the Dock and Panel indicators.</label>
        <label>Schedule:</label>
        <div class="toggle-group c2">
            <button class="selected">Disabled</button>
            <button class="">Sunset to Sunrise</button>
            <button class="">Manual</button>
        </div>
        <div class="group c2">
            <label>From:</label>
            <input type="time" value="3:00 pm">
            <label>To:</label>
            <input type="time" value="7:00 am">
        </div>

        <label>Accent</label>
        <div class="color-group c2">
            <button class="toggle color blue"></button>
            <button class="toggle color teal"></button>
            <button class="toggle color green"></button>
            <button class="toggle color yellow"></button>
            <button class="toggle color orange"></button>
            <button class="toggle color red"></button>
            <button class="toggle color pink"></button>
            <button class="toggle color purple"></button>
            <button class="toggle color brown"></button>
            <button class="toggle color gray"></button>
        </div>
        <label class="c2">Used across the system by default. Apps can always use their own accent color.</label>
        <label>Window animations:</label>
        <div class="group">
            <input type="radio" id="anim_fast" name="anim">
            <label for="anim_fast">fast</label>
            <input type="radio" id="anim_slow" name="anim" checked>
            <label for="anim_slow">slow</label>
        </div>
        <label>Panel translucency:</label>
        <input type="checkbox" checked>


        <label>Text size:</label>
        <div class="toggle-group">
            <button>Small</button>
            <button class="selected">Default</button>
            <button>Large</button>
            <button>Larger</button>
        </div>

        <label>Dyslexia-friendly text:</label>
        <input type="checkbox">

        <label class="c2">bottom-heavy shapes and increased character spacing can help improve legibility and reading speed.</label>

        <label>more buttons</label>
        <div class="group">
            <button>button</button>
            <button disabled>disabled</button>
            <button class="primary">primary</button>
        </div>
        <label>more checkboxes</label>
        <div class="group">
            <input type="checkbox" id="regular_checkbox"> <label for="regular_checkbox">checkbox</label>
            <input type="checkbox" id="disabled_checkbox" disabled> <label for="disabled_checkbox">checkbox</label>
        </div>

        <label>number inputs</label>
        <div class="group">
            <input type="number" step="1" value="50" max="100" size="5"/>
            <select>
                <option>option 1</option>
                <option selected>option 2</option>
                <option>option 3</option>
            </select>
        </div>

    </div>

</div>

</div>

<script type="text/javascript">
    const $ = sel => document.querySelector(sel)
    const $$ = sel => document.querySelectorAll(sel)
    const on = (el,type,cb) => el.addEventListener(type,cb)


    const toggle_button = (e) => e.target.classList.toggle("selected")
    $$(".toggle-group").forEach(g => {
        g.querySelectorAll("button").forEach(bt => {
            on(bt,'click',(e)=>{
                g.querySelectorAll('button').forEach(b => {
                    if(b === bt) {
                        b.classList.add('selected')
                    } else {
                        b.classList.remove('selected')
                    }
                })
            })
        })
    })


    const set_theme = (hue, sat,acsat) => {
        $("body").style.setProperty("--bg-hue",`${hue}`)
        $("body").style.setProperty("--bg-sat",`${sat}%`)
        $("body").style.setProperty("--ac-sat",`${acsat}%`)
    }
    // on($("#set-red-accent"),'click',  ()=> set_theme(0,  5,100))
    // on($("#set-green-accent"),'click',()=> set_theme(80,5,100))
    // on($("#set-blue-accent"),'click', ()=> set_theme(200,5,100))
    // on($("#set-gray-accent"),'click', ()=> set_theme(200,0,0))
    const set_tint = (sat) => {
        $("body").style.setProperty("--bg-sat",`${sat}%`)
    }
    on($("#without-tint"),'click',()=>set_tint(0));
    on($("#with-tint"),'click',()=>set_tint(10));
    on($("#with-heavy-tint"),'click',()=>set_tint(20));

    function rescale_lit(start, end, min, max) {
        for(let i=start; i<=end; i++) {
            let t = (i-start)/(end-start)
            // console.log(t)
            let v = min + t*(max-min)
            $("body").style.setProperty(`--lit-${i}`,`${v}%`)
        }
    }

    const set_light_theme = () => rescale_lit(1,9,100,0)
    const set_dark_theme = () => rescale_lit(1,9,20,80)

    on($("#set-light-theme"),'click',set_light_theme)
    on($("#set-dark-theme"),'click',set_dark_theme)

    let hues = $("#hues")
    for(let i=0; i<360; i+= 10) {
        let ch = document.createElement('div')
        ch.classList.add("swatch")
        ch.style.setProperty('background-color',`hsl(${i},100%,80%)`)
        ch.style.setProperty("color","black")
        ch.innerText = i+""
        on(ch,'click',()=>{
            set_theme(i,5,100)
        })
        hues.appendChild(ch)
    }

    // set_light_theme()
    set_dark_theme()

</script>
</body>
</html>