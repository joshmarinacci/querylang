<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dark Theme Test</title>
    <style type="text/css">
        body {
            /*background-color: magenta;*/
            font-family: sans-serif;
            color: magenta;
            --button-radius: 0.25em;
            --checkbox-radius: 0.125em;
            --window-radius: 0.5em;
            --std-inline-padding: 0.25em 0.5em;

            --bg-hue: 200;
            --bg-sat: 5%;

            --lit-1: 10%;
            --lit-2: 20%;
            --lit-3: 30%;
            --lit-4: 40%;
            --lit-5: 50%;
            --lit-6: 60%;
            --lit-7: 70%;
            --lit-8: 80%;
            --lit-9: 90%;

            --bg-1: hsl(var(--bg-hue), var(--bg-sat), var(--lit-1));
            --bg-2: hsl(var(--bg-hue), var(--bg-sat), var(--lit-2));
            --bg-3: hsl(var(--bg-hue), var(--bg-sat), var(--lit-3));
            --bg-4: hsl(var(--bg-hue), var(--bg-sat), var(--lit-4));
            --bg-5: hsl(var(--bg-hue), var(--bg-sat), var(--lit-5));
            --bg-6: hsl(var(--bg-hue), var(--bg-sat), var(--lit-6));
            --bg-7: hsl(var(--bg-hue), var(--bg-sat), var(--lit-7));
            --bg-8: hsl(var(--bg-hue), var(--bg-sat), var(--lit-8));
            --bg-9: hsl(var(--bg-hue), var(--bg-sat), var(--lit-9));



            --ac-sat: 100%;
            --ac-1: hsl(var(--bg-hue),var(--ac-sat), var(--lit-1));
            --ac-2: hsl(var(--bg-hue),var(--ac-sat), var(--lit-2));
            --ac-3: hsl(var(--bg-hue),var(--ac-sat), var(--lit-3));
            --ac-4: hsl(var(--bg-hue),var(--ac-sat), var(--lit-4));
            --ac-5: hsl(var(--bg-hue),var(--ac-sat), var(--lit-5));
            --ac-6: hsl(var(--bg-hue),var(--ac-sat), var(--lit-6));
            --ac-7: hsl(var(--bg-hue),var(--ac-sat), var(--lit-7));
            --ac-8: hsl(var(--bg-hue),var(--ac-sat), var(--lit-8));
            --ac-9: hsl(var(--bg-hue),var(--ac-sat), var(--lit-9));

            --transition-speed: 0.1s;

            --std-border: var(--bg-9);
            --std-ac-bg: var(--ac-3);

            background-color: var(--bg-2);
        }

        /* ============ layout ========= */
        .hbox {
            display: flex;
            flex-direction: row;
        }
        .vbox {
            display: flex;
            flex-direction: column;
        }
        .titlebar {
            display: flex;
            flex-direction: row;
            padding: 0.25em;
            align-items: center;
            border-style: solid;
            border-top-left-radius: var(--window-radius);
            border-top-right-radius: var(--window-radius);
            border-width: 0 0 1px 0;
        }
        .window {
            margin: 2em;
        }
        .spacer {
            flex: 1.0;
        }
        ul {
            min-width: 10em;
            margin:0;
            padding:0;
            border-style: solid;
            border-width: 0 1px 0 0;
        }
        li {
            list-style: none;
            padding: 0.5em;
        }
        button, input, select {
            box-sizing: border-box;
            font-size: 100%;
            border-width: 1px;
            border-style: solid;
            border-radius: var(--button-radius);
            padding: var(--std-inline-padding);
        }
        input, select {
            appearance: none;
        }
        input[type=checkbox], input[type=radio] {
            appearance: none;
            padding:0;
            border-radius: var(--checkbox-radius);
            border-style: solid;
            border-width: 1px;
            box-shadow: 0px 1px 5px rgba(0,0,0,0.2);
        }
        input[type=radio] {
            border-radius: 1em;
            width: 1em;
            height: 1em;
        }
        input[type=checkbox] {
            font-size: 200%;
        }
        input[type=checkbox]::after {
            content: ' ';
            font-size: 0.33em;
            padding: 0em;
            min-width: 1.5em;
            min-height: 1.5em;
            text-align: center;
            margin:0;
            display: block;
        }
        input[type=checkbox]:checked::after {
            content: '\2713';
        }
        label {
            padding: var(--std-inline-padding);
            justify-self: start;
        }



        /* ======== grid ============= */
        .form-grid {
            display: grid;
            grid-template-columns: [labels] 1fr [inputs] 3fr;
            border-radius: var(--window-radius);
        }
        .form-grid > * {
            justify-self: start;
        }
        .form-grid > label {
            text-align: right;
            align-self: center;
            justify-self: end;
        }
        .form-grid .c2 {
            grid-column: inputs;
            justify-self: start;
        }
        .form-grid label {
            grid-column: labels;
        }
        .form-grid label.c2 {
            text-align: left;
        }


        /* =========== groups ========== */
        .toggle-group, .group {
            border-width: 0;
            display: flex;
            flex-direction: row;
            padding:0;
            margin: 0.5em 0em;
            align-items: center;
        }
        .toggle-group {
            border-radius: var(--button-radius);
            box-shadow: 0px 1px 5px rgba(0,0,0,0.2);
        }
        .toggle-group button {
            border-style: solid;
            border-width: 1px 1px 1px 0;
            border-radius: 0;
            margin:0;
            min-width: 8em;
            flex-grow: 1.0;
        }
        .toggle-group button:first-child {
            border-left-width: 1px;
            border-top-left-radius: var(--button-radius);
            border-bottom-left-radius: var(--button-radius);
        }
        .toggle-group button:last-child {
            border-top-right-radius: var(--button-radius);
            border-bottom-right-radius: var(--button-radius);
        }



        /* ========= colors ========== */

        .window {
            color: var(--bg-9);
            background-color: var(--bg-2);
            border: 1px solid var(--std-border);
            border-radius: var(--window-radius);
            box-shadow: 0px 5px 10px 0px rgba(0,0,0,0.5);
        }
        .titlebar {
            /*color: var(--bg-9);*/
            background-color: var(--bg-3);
            border-color: var(--std-border);
        }
        ul {
            border-color: var(--std-border);
        }
        li {
            /*color: var(--bg-9);*/
        }
        label {
            /*color: var(--bg-9);*/
        }
        li.selected {
            background-color: var(--std-ac-bg);
        }
        button, input, select {
            /*color: var(--bg-9);*/
            color: inherit;
            background-color: var(--bg-1);
            border-color: var(--std-border);
        }
        button.primary {
            color: var(--bg-9);
            background-color: var(--std-ac-bg);
        }
        button.selected {
            background-color: var(--bg-3);
        }
        input[type=checkbox]:checked, input[type=radio]:checked {
            color: var(--bg-1);
            background-color: var(--ac-5);
            border-color: var(--ac-9);
        }

        /* =========== disabled  ========= */
        button:disabled {
            background-color: var(--bg-3);
            color: var(--bg-5);
        }
        input:disabled {
            background-color: var(--bg-4);
            color: var(--bg-5);
        }
        input:disabled+label {
            color: var(--bg-5);
        }


        /* ========== hovers ========= */
        button:hover {
            background-color: var(--bg-2);
        }
        button.selected:hover {
            background-color: var(--bg-2);
        }
        button.primary:hover {
            background-color: var(--ac-4);
        }

        /* ======== animations ======= */
        button {
            transition: background-color var(--transition-speed);
            /*text-shadow: 0 -1px 0 #000;*/
        }
        input {
            transition: background-color var(--transition-speed);
            transition: color var(--transition-speed);
        }



        /* ======== focus =========== */
        input:focus {
            /*background-color: var(--bg-6);*/
            /*color: var(--bg-2);*/
            /*animation: glow 800ms ease-out infinite alternate;*/
        }
        @keyframes glow {
            0% {
                border-color: #393;
                box-shadow: 0 0 5px rgba(0,0,255,.2), inset 0 0 5px rgba(0,0,255,.1), 0 2px 0 #000;
            }
            100% {
                border-color: #6f6;
                box-shadow: 0 0 20px rgba(0,0,255,.6), inset 0 0 10px rgba(0,0,255,.4), 0 2px 0 #000;
            }
        }
        .form-grid:focus-within {
            /*border-color: var(--ac-9);*/
            /*outline: 3px solid var(--ac-3);*/
            /*-moz-outline-radius: var(--window-radius);*/
            /*transition: outline var(--transition-speed);*/
        }
        ul:focus-within {
            /*outline: 3px solid var(--ac-9);*/
            /*outline-offset: 5px;*/
            /*-moz-outline-radius: var(--window-radius);*/
            /*transition: outline var(--transition-speed);*/
        }


        /* ======== custom ======== */
        .borderless {
            background-color: transparent;
            border-width: 0;
        }

        .custom-toggle {
            display: flex;
            border-width: 0;
            flex-direction: row;
            align-items: center;
            padding: 1em;
        }
        .custom-toggle label {
            display: flex;
            border-width: 0;
            flex-direction: column;
            align-items: center;
        }
        .custom-toggle.selected {
            border: 1px solid var(--ac-9);
            background-color: var(--std-ac-bg);
            border-radius: 0.33em;
        }
        .custom-toggle img {
            background-color: #556;
            padding: 0em;
            margin: 0.5em;
        }


        .color-group button.color {
            font-size: 0.5em;
            min-width: unset;
            width: 2em;
            height: 2em;
            border-radius: 1em;
            margin: 0.125em 0.25em;
        }
        .color.blue { background-color: dodgerblue; }
        .color.teal { background-color: lightseagreen; }
        .color.green { background-color: greenyellow; }
        .color.yellow { background-color: gold; }
        .color.orange { background-color: coral; }
        .color.red { background-color: orangered;   }
        .color.pink { background-color: palevioletred; }
        .color.purple { background-color: violet; }
        .color.brown { background-color: rosybrown; }
        .color.gray { background-color: slategray; }

        .swatch {
            width: 2em;
            height: 2em;
            border: 1px solid black;
            font-size: 90%;
        }

    </style>
</head>
<body>

<!--

https://blog.elementary.io/images/dark-style-progress-november-2020/switchboard-dark@2x.png


-->

<div class="hbox">
    <button id="set-light-theme">light</button>
    <button id="set-dark-theme">dark</button>

    <button id="without-tint">no tint</button>
    <button id="with-tint">tint</button>
    <button id="with-heavy-tint">heavy tint</button>
</div>

<div class="hbox" id="hues"></div>
<div class="hbox">
    <div class='swatch' style="background-color: var(--bg-1)">1</div>
    <div class='swatch' style="background-color: var(--bg-2)">2</div>
    <div class='swatch' style="background-color: var(--bg-3)">3</div>
    <div class='swatch' style="background-color: var(--bg-4)">4</div>
    <div class='swatch' style="background-color: var(--bg-5)">5</div>
    <div class='swatch' style="background-color: var(--bg-6)">6</div>
    <div class='swatch' style="background-color: var(--bg-7)">7</div>
    <div class='swatch' style="background-color: var(--bg-8)">8</div>
    <div class='swatch' style="background-color: var(--bg-9)">9</div>
</div>
<div class="hbox">
    <div class='swatch' style="background-color: var(--ac-1)">1</div>
    <div class='swatch' style="background-color: var(--ac-2)">2</div>
    <div class='swatch' style="background-color: var(--ac-3)">3</div>
    <div class='swatch' style="background-color: var(--ac-4)">4</div>
    <div class='swatch' style="background-color: var(--ac-5)">5</div>
    <div class='swatch' style="background-color: var(--ac-6)">6</div>
    <div class='swatch' style="background-color: var(--ac-7)">7</div>
    <div class='swatch' style="background-color: var(--ac-8)">8</div>
    <div class='swatch' style="background-color: var(--ac-9)">9</div>
</div>

<div class="window">


<div class="titlebar">
    <button class="borderless">X</button>
    <button>All Settings</button>
    <span class="spacer"></span>
    <label>Desktop</label>
    <span class="spacer"></span>
    <input type="search" placeholder="Search Settings">
    <button class="borderless">/</button>
</div>

<div class="hbox">
    <ul>
        <li>fun item 1</li>
        <li>fun item 1</li>
        <li class="selected" tabindex="0">fun item 1</li>
        <li>fun item 1</li>
    </ul>
    <div class="form-grid grow">
        <div class="toggle-group c2">
            <button class="toggle">Wallpaper</button>
            <button class="toggle selected">Appearance</button>
            <button class="toggle">Dock</button>
            <button class="toggle">Multitasking</button>
        </div>
        <label>Style:</label>
        <div class="group">
            <div class="custom-toggle">
                <input type="radio" name="style" id="style_light">
                <label for="style_light">
                    <img s1rc="#" width="100" height="75">
                    <span>Light</span>
                </label>
            </div>
            <div class="custom-toggle selected">
                <input type="radio" name="style" id="style_dark" checked>
                <label for="style_dark">
                    <img src="#" width="100" height="75">
                    <span>Dark</span>
                </label>
            </div>

        </div>
        <label class="c2">Visual style for system components like the Dock and Panel indicators.</label>
        <label>Schedule:</label>
        <div class="toggle-group c2">
            <button class="selected">Disabled</button>
            <button class="">Sunset to Sunrise</button>
            <button class="">Manual</button>
        </div>
        <div class="group c2">
            <label>From:</label>
            <input type="time" value="3:00 pm">
            <label>To:</label>
            <input type="time" value="7:00 am">
        </div>

        <label>Accent</label>
        <div class="color-group c2">
            <button class="toggle color blue"></button>
            <button class="toggle color teal"></button>
            <button class="toggle color green"></button>
            <button class="toggle color yellow"></button>
            <button class="toggle color orange"></button>
            <button class="toggle color red"></button>
            <button class="toggle color pink"></button>
            <button class="toggle color purple"></button>
            <button class="toggle color brown"></button>
            <button class="toggle color gray"></button>
        </div>
        <label class="c2">Used across the system by default. Apps can always use their own accent color.</label>
        <label>Window animations:</label>
        <div class="group">
            <input type="radio" id="anim_fast" name="anim">
            <label for="anim_fast">fast</label>
            <input type="radio" id="anim_slow" name="anim" checked>
            <label for="anim_slow">slow</label>
        </div>
        <label>Panel translucency:</label>
        <input type="checkbox" checked>


        <label>Text size:</label>
        <div class="toggle-group">
            <button>Small</button>
            <button class="selected">Default</button>
            <button>Large</button>
            <button>Larger</button>
        </div>

        <label>Dyslexia-friendly text:</label>
        <input type="checkbox">

        <label class="c2">bottom-heavy shapes and increased character spacing can help improve legibility and reading speed.</label>

        <label>more buttons</label>
        <div class="group">
            <button>button</button>
            <button disabled>disabled</button>
            <button class="primary">primary</button>
        </div>
        <label>more checkboxes</label>
        <div class="group">
            <input type="checkbox" id="regular_checkbox"> <label for="regular_checkbox">checkbox</label>
            <input type="checkbox" id="disabled_checkbox" disabled> <label for="disabled_checkbox">checkbox</label>
        </div>

        <label>number inputs</label>
        <div class="group">
            <input type="number" step="1" value="50" max="100" size="5"/>
            <select>
                <option>option 1</option>
                <option selected>option 2</option>
                <option>option 3</option>
            </select>
        </div>

    </div>

</div>

</div>

<script type="text/javascript">
    const $ = sel => document.querySelector(sel)
    const $$ = sel => document.querySelectorAll(sel)
    const on = (el,type,cb) => el.addEventListener(type,cb)


    const toggle_button = (e) => e.target.classList.toggle("selected")
    $$(".toggle-group").forEach(g => {
        g.querySelectorAll("button").forEach(bt => {
            on(bt,'click',(e)=>{
                g.querySelectorAll('button').forEach(b => {
                    if(b === bt) {
                        b.classList.add('selected')
                    } else {
                        b.classList.remove('selected')
                    }
                })
            })
        })
    })


    const set_theme = (hue, sat,acsat) => {
        $("body").style.setProperty("--bg-hue",`${hue}`)
        $("body").style.setProperty("--bg-sat",`${sat}%`)
        $("body").style.setProperty("--ac-sat",`${acsat}%`)
    }
    // on($("#set-red-accent"),'click',  ()=> set_theme(0,  5,100))
    // on($("#set-green-accent"),'click',()=> set_theme(80,5,100))
    // on($("#set-blue-accent"),'click', ()=> set_theme(200,5,100))
    // on($("#set-gray-accent"),'click', ()=> set_theme(200,0,0))
    const set_tint = (sat) => {
        $("body").style.setProperty("--bg-sat",`${sat}%`)
    }
    on($("#without-tint"),'click',()=>set_tint(0));
    on($("#with-tint"),'click',()=>set_tint(10));
    on($("#with-heavy-tint"),'click',()=>set_tint(20));

    function rescale_lit(start, end, min, max) {
        for(let i=start; i<=end; i++) {
            let t = (i-start)/(end-start)
            // console.log(t)
            let v = min + t*(max-min)
            $("body").style.setProperty(`--lit-${i}`,`${v}%`)
        }
    }

    const set_light_theme = () => rescale_lit(1,9,100,0)
    const set_dark_theme = () => rescale_lit(1,9,20,80)

    on($("#set-light-theme"),'click',set_light_theme)
    on($("#set-dark-theme"),'click',set_dark_theme)

    let hues = $("#hues")
    for(let i=0; i<360; i+= 10) {
        let ch = document.createElement('div')
        ch.classList.add("swatch")
        ch.style.setProperty('background-color',`hsl(${i},100%,80%)`)
        ch.style.setProperty("color","black")
        ch.innerText = i+""
        on(ch,'click',()=>{
            set_theme(i,5,100)
        })
        hues.appendChild(ch)
    }

    // set_light_theme()
    set_dark_theme()

</script>
</body>
</html>